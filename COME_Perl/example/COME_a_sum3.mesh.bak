/#k1|<<=|a[*1*]>::
  <<+|a_sum[<<0|a[*1*]cy>]> += <<0|a[*1*]> - <<-|a[*1*]>;
#\
/#k2|<<=|cy[*1*]> or <<s|a_sum[*1*]>::
  <<+|a_eur> += <<0|a_sum[*1*]> * <<0|cy[*1*]> - <<-|a_sum[*1*]> * <<-|cy[*1*]>
#\
<#cy[EUR]:=1;cy[USD]:=1.2#>
<#a[0]cy:='EUR';a[0]:=3;a[1]cy:='USD';a[1]:=10;_tt+;_tt+#>
<#a[1]:=15;a[2]cy:='EUR';a[2]:=30;_tt+;_tt+#>
<#cy[USD]:=1.5;_tt+#>
<#_html_dump:=example\come_a_sum3.html;_out0:=yarn;_out0:=code;_out0:=dumpall#>